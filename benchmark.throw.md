# BENCHMARK THROW AND IF

```
#include <time.h>

#include <iostream>

static int n = 0;
static const int __default = 1024;

static int example_throw(int * i){
    if(i){
        *i = ++n;
        return *i;
    }
    throw 1;
}

static int example_not_throw(int * i){
    if(i){
        *i = ++n;
        return *i;
    }
    return __default;
}

#define total 64

int main() {
    struct timespec _throw_start[total];
    struct timespec _throw_end[total];
    int * p = nullptr;
    int s = 0;
    printf("example throw\n");
    for(int i = 0; i < total; i++){
        clock_gettime(CLOCK_REALTIME, &_throw_start[i]);
        try {
            s = example_throw(p);
        } catch(int & o) {
            s = __default;
            clock_gettime(CLOCK_REALTIME, &_throw_end[i]);
            _throw_end[i].tv_sec -= _throw_start[i].tv_sec;
            _throw_end[i].tv_nsec -= _throw_start[i].tv_nsec;
            if(_throw_end[i].tv_nsec < 0)
            {
                _throw_end[i].tv_sec--;
                _throw_end[i].tv_nsec += 1000000000;
            }
        }
    }
    printf("example if\n");
    struct timespec _if_start[total];
    struct timespec _if_end[total];
    for(int i = 0; i < 64; i++){
        clock_gettime(CLOCK_REALTIME, &_if_start[i]);
        s = example_not_throw(p);
        clock_gettime(CLOCK_REALTIME, &_if_end[i]);
        _if_end[i].tv_sec -= _if_start[i].tv_sec;
        _if_end[i].tv_nsec -= _if_start[i].tv_nsec;
        if(_if_end[i].tv_nsec < 0)
        {
            _if_end[i].tv_sec--;
            _if_end[i].tv_nsec += 1000000000;
        }

    }
    printf(    "| count | throw       | if          |\n");
    printf(    "| ----- | ----------- | ----------- |\n");
    for(int i = 0; i < 64; i++){
        printf("|    %02d | %ld.%09ld | %ld.%09ld |\n", i, _throw_end[i].tv_sec, _throw_end[i].tv_nsec, _if_end[i].tv_sec, _if_end[i].tv_nsec);
    }
    return 0;
}
```

| count | throw       | if          |
| ----- | ----------- | ----------- |
|    00 | 0.000020078 | 0.000000063 |
|    01 | 0.000002737 | 0.000000027 |
|    02 | 0.000002015 | 0.000000026 |
|    03 | 0.000002199 | 0.000000028 |
|    04 | 0.000002653 | 0.000000026 |
|    05 | 0.000002414 | 0.000000025 |
|    06 | 0.000002150 | 0.000000028 |
|    07 | 0.000002152 | 0.000000027 |
|    08 | 0.000002188 | 0.000000026 |
|    09 | 0.000002191 | 0.000000028 |
|    10 | 0.000002216 | 0.000000026 |
|    11 | 0.000002343 | 0.000000028 |
|    12 | 0.000002356 | 0.000000027 |
|    13 | 0.000002444 | 0.000000026 |
|    14 | 0.000002629 | 0.000000028 |
|    15 | 0.000002887 | 0.000000026 |
|    16 | 0.000002633 | 0.000000027 |
|    17 | 0.000002471 | 0.000000028 |
|    18 | 0.000002800 | 0.000000027 |
|    19 | 0.000002334 | 0.000000028 |
|    20 | 0.000002241 | 0.000000026 |
|    21 | 0.000002249 | 0.000000026 |
|    22 | 0.000002298 | 0.000000028 |
|    23 | 0.000002253 | 0.000000026 |
|    24 | 0.000002326 | 0.000000027 |
|    25 | 0.000002395 | 0.000000026 |
|    26 | 0.000002421 | 0.000000027 |
|    27 | 0.000002195 | 0.000000027 |
|    28 | 0.000002332 | 0.000000025 |
|    29 | 0.000002280 | 0.000000027 |
|    30 | 0.000002261 | 0.000000027 |
|    31 | 0.000002464 | 0.000000026 |
|    32 | 0.000002394 | 0.000000027 |
|    33 | 0.000002303 | 0.000000026 |
|    34 | 0.000002160 | 0.000000026 |
|    35 | 0.000002756 | 0.000000028 |
|    36 | 0.000002905 | 0.000000026 |
|    37 | 0.000002276 | 0.000000026 |
|    38 | 0.000002473 | 0.000000027 |
|    39 | 0.000002802 | 0.000000027 |
|    40 | 0.000002731 | 0.000000027 |
|    41 | 0.000002872 | 0.000000025 |
|    42 | 0.000002835 | 0.000000028 |
|    43 | 0.000002152 | 0.000000027 |
|    44 | 0.000001716 | 0.000000025 |
|    45 | 0.000001711 | 0.000000028 |
|    46 | 0.000001684 | 0.000000026 |
|    47 | 0.000001670 | 0.000000027 |
|    48 | 0.000001697 | 0.000000027 |
|    49 | 0.000001691 | 0.000000026 |
|    50 | 0.000001692 | 0.000000028 |
|    51 | 0.000001689 | 0.000000026 |
|    52 | 0.000001708 | 0.000000027 |
|    53 | 0.000001684 | 0.000000026 |
|    54 | 0.000001695 | 0.000000025 |
|    55 | 0.000001685 | 0.000000028 |
|    56 | 0.000001695 | 0.000000027 |
|    57 | 0.000001685 | 0.000000026 |
|    58 | 0.000001693 | 0.000000027 |
|    59 | 0.000001695 | 0.000000026 |
|    60 | 0.000001699 | 0.000000027 |
|    61 | 0.000001686 | 0.000000026 |
|    62 | 0.000001671 | 0.000000026 |
|    63 | 0.000001708 | 0.000000026 |
